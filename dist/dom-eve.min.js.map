{"version":3,"file":"dom-eve.min.js","sources":["../node_modules/object-assign/index.js","../src/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import objectAssign from 'object-assign';\n\nconst eventsProto = objectAssign(Object.create(null), {\n    on(name, cb, options){\n        this.element.addEventListener(name, cb, options);\n        this._records[name] = this._records[name] || [];\n        this._records[name].push([\n            name, cb, options\n        ]);\n        return this;\n    },\n    off(name, cb, options){\n        this.element.removeEventListener(name, cb, options);\n\n        if(this._records[name] !== void 0){\n            let records = this._records[name];\n\n            for(let i=0; i<records.length; i++){\n                if(records[i][1] === cb && records[i][2] === options){\n                    records.splice(i, 1);\n                    if(i + 1 !== records.length){\n                        --i;\n                    }\n                }\n            }\n        }\n        return this;\n    },\n    dispatch(event){\n        this.element.dispatchEvent(event);\n        return this;\n    },\n    clear(){\n        for(let name in this._records){\n            let records = this._records[name];\n            records.forEach(record=>{\n                this.off(...record);\n            });\n        }\n        return this;\n    }\n});\n\nexport default function events(element, tracker = null){\n    const eve = Object.create(eventsProto);\n    eve._records = Object.create(null);\n    if(typeof element === 'string'){\n        eve.element = document.querySelector(element);\n    }else{\n        eve.element = element;\n    }    \n\n    if(tracker){\n        tracker.list.push(eve);\n    }\n\n    return eve;\n}\n\nevents.track = function track(){\n    return {\n        list: [],\n        clear(){\n            this.list.forEach(item=>{\n                item.clear();\n            });\n        }\n    };\n}\n"],"names":["toObject","val","undefined","TypeError","Object","events","element","tracker","const","eve","create","eventsProto","_records","document","querySelector","list","push","getOwnPropertySymbols","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","map","n","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","to","s","arguments","length","key","call","on","name","cb","options","this","addEventListener","off","removeEventListener","let","records","splice","dispatch","event","dispatchEvent","clear","record","ref","track","item"],"mappings":"mCAYA,SAASA,EAASC,GACjB,GAAY,OAARA,QAAwBC,IAARD,EACnB,MAAM,IAAIE,UAAU,yDAGrB,OAAOC,OAAOH,GC0Bf,SAAwBI,EAAOC,EAASC,kBAAU,MAC9CC,IAAMC,EAAML,OAAOM,OAAOC,GAY1B,OAXAF,EAAIG,SAAWR,OAAOM,OAAO,MAEzBD,EAAIH,QADc,iBAAZA,EACQO,SAASC,cAAcR,GAEvBA,EAGfC,GACCA,EAAQQ,KAAKC,KAAKP,GAGfA,EDhDX,IAAIQ,EAAwBb,OAAOa,sBAC/BC,EAAiBd,OAAOe,UAAUD,eAClCE,EAAmBhB,OAAOe,UAAUE,qBCRlCV,GDkBN,WACC,IACC,IAAKP,OAAOkB,OACX,OAAO,EAMR,IAAIC,EAAQ,IAAIC,OAAO,OAEvB,GADAD,EAAM,GAAK,KACkC,MAAzCnB,OAAOqB,oBAAoBF,GAAO,GACrC,OAAO,EAKR,IAAK,IADDG,KACKC,EAAI,EAAGA,EAAI,GAAIA,IACvBD,EAAM,IAAMF,OAAOI,aAAaD,IAAMA,EAKvC,GAAwB,eAHXvB,OAAOqB,oBAAoBC,GAAOG,IAAI,SAAUC,GAC5D,OAAOJ,EAAMI,KAEHC,KAAK,IACf,OAAO,EAIR,IAAIC,KAIJ,MAHA,uBAAuBC,MAAM,IAAIC,QAAQ,SAAUC,GAClDH,EAAMG,GAAUA,IAGf,yBADE/B,OAAOgC,KAAKhC,OAAOkB,UAAWU,IAAQD,KAAK,IAM9C,MAAOM,GAER,OAAO,GAIQC,GAAoBlC,OAAOkB,OAAS,SAAUiB,EAAQC,GAKtE,IAAK,IAJDC,EAEAC,cADAC,EAAK3C,EAASuC,GAGTK,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAC1CH,EAAOrC,OAAOyC,EAAUD,IAExB,IAAK,IAAIG,KAAON,EACXvB,EAAe8B,KAAKP,EAAMM,KAC7BJ,EAAGI,GAAON,EAAKM,IAIjB,GAAI9B,EAAuB,CAC1ByB,EAAUzB,EAAsBwB,GAChC,IAAK,IAAId,EAAI,EAAGA,EAAIe,EAAQI,OAAQnB,IAC/BP,EAAiB4B,KAAKP,EAAMC,EAAQf,MACvCgB,EAAGD,EAAQf,IAAMc,EAAKC,EAAQf,MAMlC,OAAOgB,ICtFyBvC,OAAOM,OAAO,OAC3CuC,YAAGC,EAAMC,EAAIC,GAMT,OALAC,KAAK/C,QAAQgD,iBAAiBJ,EAAMC,EAAIC,GACxCC,KAAKzC,SAASsC,GAAQG,KAAKzC,SAASsC,OACpCG,KAAKzC,SAASsC,GAAMlC,MAChBkC,EAAMC,EAAIC,IAEPC,MAEXE,aAAIL,EAAMC,EAAIC,GAGV,GAFAC,KAAK/C,QAAQkD,oBAAoBN,EAAMC,EAAIC,QAEhB,IAAxBC,KAAKzC,SAASsC,GAGb,IAAIO,IAFAC,EAAUL,KAAKzC,SAASsC,GAEpBvB,EAAE,EAAGA,EAAE+B,EAAQZ,OAAQnB,IACxB+B,EAAQ/B,GAAG,KAAOwB,GAAMO,EAAQ/B,GAAG,KAAOyB,IACzCM,EAAQC,OAAOhC,EAAG,GACfA,EAAI,IAAM+B,EAAQZ,UACfnB,GAKlB,OAAO0B,MAEXO,kBAASC,GAEL,OADAR,KAAK/C,QAAQwD,cAAcD,GACpBR,MAEXU,4BACI,IAAIN,IAAIP,KAAQG,EAAKzC,SACHyC,EAAKzC,SAASsC,GACpBhB,QAAQ,SAAA8B,MACZX,GAAKE,UAAIU,EAAAD,WAGjB,OAAOX,eAoBfhD,EAAO6D,MAAQ,WACX,OACInD,QACAgD,iBACIV,KAAKtC,KAAKmB,QAAQ,SAAAiC,GACdA,EAAKJ"}